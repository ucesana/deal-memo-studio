import{g as j}from"./chunk-Z3ULHKFK.js";import"./chunk-GEEM2TOX.js";import{c as y}from"./chunk-SX7HHZGL.js";import"./chunk-EQSAGTQR.js";import"./chunk-XOLN6OYZ.js";import{d as T,e as A}from"./chunk-KX6WABM7.js";import"./chunk-CDBM4L77.js";import{a as I}from"./chunk-FEPN34VA.js";import"./chunk-KB7U2Z4W.js";import{g as _}from"./chunk-QA4PX2VU.js";import{ta as D}from"./chunk-666DXB2I.js";import{i as v}from"./chunk-WQZ5FTDX.js";import{Ac as f,D as p,L as c,Ob as m,Pb as u,Qb as g,Xb as b,c as l,d as o,l as d,la as a,qb as h,zc as S}from"./chunk-GHECAUUU.js";var t=class{googleAuthService=a(D);googleSheetsService=a(y);lastVisited=a(I);route=a(_);id="";_spreadsheetSubject=new d(null);isLoggedIn$;spreadsheet$;constructor(){this.isLoggedIn$=this.googleAuthService.getIsLoggedIn(),this.spreadsheet$=this._spreadsheetSubject.asObservable().pipe(p(e=>!!e))}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.lastVisited.setLastSpreadsheetId(e)}ngAfterViewInit(){this.isLoggedIn$.pipe(A(this)).subscribe(e=>{e&&this.id?.length&&this.loadSpreadsheet(this.id)})}selectSheets(e){}selectTagData(e){}loadSpreadsheet(e){this.googleSheetsService.getSpreadsheet(e).pipe(c(1),p(i=>!!i)).subscribe(i=>{this._spreadsheetSubject.next(i)})}};o(t,"\u0275fac",function(i){return new(i||t)}),o(t,"\u0275cmp",h({type:t,selectors:[["app-spreadsheets"]],inputs:{id:"id"},decls:2,vars:4,consts:[[3,"sheetsSelection","tagData","reload","spreadsheet","height"]],template:function(i,s){i&1&&(u(0,"app-spreadsheet-table",0),S(1,"async"),b("sheetsSelection",function(r){return s.selectSheets(r)})("tagData",function(r){return s.selectTagData(r)})("reload",function(){return s.loadSpreadsheet(s.id)}),g()),i&2&&m("spreadsheet",f(1,2,s.spreadsheet$))("height","calc(100vh - 64px - 64px - 32px)")},dependencies:[j,v],encapsulation:2})),t=l([T()],t);export{t as SpreadsheetsComponent};
