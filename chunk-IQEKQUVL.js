import{d as S,e as M}from"./chunk-EIWMXWAL.js";import"./chunk-PXO4KUEF.js";import{b as I}from"./chunk-VTHVZRSC.js";import"./chunk-5C3QSQIV.js";import"./chunk-KSFLMSQQ.js";import{g as C,j as y}from"./chunk-QA4PX2VU.js";import{sa as D}from"./chunk-3QWJPETD.js";import"./chunk-WQZ5FTDX.js";import{Hb as d,Jb as l,Ob as v,Pb as m,Qb as u,Vb as h,Xb as f,Yb as a,ac as _,bc as x,cc as g,la as o,qa as c,qb as p,ra as s}from"./chunk-GHECAUUU.js";var Q=["driveTree"];function b(i,t){if(i&1){let e=h();m(0,"app-drive-tree",2,0),f("select",function(r){c(e);let w=a();return s(w.select(r))}),u()}if(i&2){let e=a();v("parentId",e.parentId)("contextMenuItems",e.contextMenuItems)("searchQuery",e.searchQuery)("height","calc(100vh - 64px - 64px - 16px)")}}var T=class i{driveTree;_router=o(y);_route=o(C);_snackService=o(D);_googleDriveService=o(I);_driveContextMenuService=o(M);parentId=null;contextMenuItems=[];searchQuery={mimeTypes:["application/vnd.google-apps.folder","application/vnd.google-apps.document","application/vnd.google-apps.spreadsheet","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf"]};constructor(){let t=this._route.snapshot.params.id;t?.length>0?this.parentId=t:this.parentId="root",this.contextMenuItems=[this._driveContextMenuService.openInGoogleDrive(),this._driveContextMenuService.saveAsGoogleDoc(e=>this._router.navigate(["/dashboard/docs",e.id])),this._driveContextMenuService.saveAsDocx(e=>this._router.navigate(["/dashboard/docs",e.id]))]}select(t){switch(t.mimeType){case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":this._snackService.openSnackBar("Cannot open word document. Save it as Google Doc first, then try again.","Save as Google Doc",()=>this._driveContextMenuService.saveAsGoogleDoc(e=>this._router.navigate(["/dashboard/docs",e.id])).action(t));break;default:this._driveContextMenuService.openFileAction(t)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["app-drive"]],viewQuery:function(e,n){if(e&1&&_(Q,5),e&2){let r;x(r=g())&&(n.driveTree=r.first)}},decls:1,vars:1,consts:[["driveTree",""],[3,"parentId","contextMenuItems","searchQuery","height"],[3,"select","parentId","contextMenuItems","searchQuery","height"]],template:function(e,n){e&1&&d(0,b,2,4,"app-drive-tree",1),e&2&&l(n.parentId?0:-1)},dependencies:[S],encapsulation:2})};export{T as DriveComponent};
